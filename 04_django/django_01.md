# Django 1

> dynamic web application program



- static web
  - ë¯¸ë¦¬ ì €ì¥ëœ ì •ì  íŒŒì¼ ì œê³µ (HTML, CSS, JS)
- dynamic web
  - ì‚¬ìš©ìì˜ ìš”ì²­ì— ë”°ë¼ server-sideì—ì„œ ì •ë³´ë¥¼ ë§Œë“¤ì–´ ë°˜í™˜
  - jsp, sql, php



- client
  - ì‚¬ìš©ìê°€ ë¸Œë¼ìš°ì €ë¥¼ í†µí•´ ì„œë²„ì— ìš”ì²­(request)
- server
  - ìš”ì²­ì— ë”°ë¥¸ ì‘ë‹µ(response)
  - djangoë¡œ ì„œë²„ ì œì‘



1. python web framework
   - ì›¹í˜ì´ì§€ ê°œë°œì˜ ì–´ë ¤ì›€ì„ ì¤„ì¸ë‹¤. ìˆ˜ë ˆë°”í€´ë¥¼ ë‹¤ì‹œ ë§Œë“¤ì§€ ì•Šê²Œ ë„ì™€ì¤€ë‹¤.
   - URL parsing
   - DB setting
   - object relation mapping
   - security
   - caching 
2. ëª¨ë¸-ë·°-ì»¨íŠ¸ë¡¤ëŸ¬ ëª¨ë¸ íŒ¨í„´ (MVC)
   - ì†Œí”„íŠ¸ì›¨ì–´ ë””ìì¸ íŒ¨í„´
   - ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë¶„ë¦¬í•˜ì—¬ ì„œë¡œì˜ ì˜í–¥ì—†ì´ ê³ ì¹  ìˆ˜ ìˆë‹¤
3. MTV
   1. model
      - ë°ì´í„° ë² ì´ìŠ¤ ê´€ë¦¬
   2. template
      - ë ˆì´ì•„ì›ƒ
   3. view
      - ì¤‘ì‹¬ ì»¨íŠ¸ë¡¤ëŸ¬ (ëª¨ë¸ê³¼ í…œí”Œë¦¿ ì‚¬ì´ì—ì„œ ê´€ë¦¬ì ì—­í• )



![img](https://static.packt-cdn.com/products/9781788831345/graphics/e53b3c1c-b887-4443-89af-49172fa7d517.png)



## 1 ì£¼ìš” ëª…ë ¹ì–´

### django-admin startproject í”„ë¡œì íŠ¸ ì´ë¦„

í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•œë‹¤

ëª…ë ¹ì–´ì˜ êµ¬ì„±ì€ ì‚¼ë“±ë¶„ëœë‹¤.



í”„ë¡œì íŠ¸ ì´ë¦„ìœ¼ë¡œ íŒŒì´ì¬ì˜ ì˜ˆì•½ì–´ë¥¼ ì“°ì§€ ì•Šë„ë¡ í•œë‹¤.



1. init
   1. ìš°ë¦¬ê°€ ìƒì„±í•œ í”„ë¡œì íŠ¸ë¥¼ í•˜ë‚˜ì˜ íŒ¨í‚¤ì§€ë¡œ ì¸ì‹í•˜ê²Œ í•œë‹¤.
   2. ë¹„ì–´ìˆëŠ” ê²ƒì´ ì •ìƒì´ë‹¤.
   3. íŒŒì¼ì— ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.
2. asgi.py
   1. django 3ì—ì„œ ìƒê¸´ ì‹ ìƒ íŒŒì¼
   2. ë¹„ë™ê¸° ì›¹ì„œë²„ì™€ ì—°ë™í•  ë•Œ ì‚¬ìš© 
   3. ìš°ë¦¬ê°€ ë”°ë¡œ ê±´ë“œë¦¬ì§€ ì•ŠëŠ”ë‹¤
3. **settings.py **
   1. ì¥ê³  ì›¹ì‚¬ì´íŠ¸ì˜ ëª¨ë“  ì„¤ì •ì„ í¬í•¨í•œë‹¤
   2. ì•± ë“±ë¡
   3. íŒŒì¼ ìœ„ì¹˜ (media, static)
   4. ë°ì´í„°ë² ì´ìŠ¤ ì„¸ë¶€ ì‚¬í•­
   5. ë³´ì•ˆ 
4. **urls.py **
   1. ì‚¬ìš©ìì˜ ìš”ì²­ì„ ê°€ì¥ ë¨¼ì € ë§Œë‚œë‹¤
   2. ì•Œë§ì€ viewë¡œ ì „ë‹¬í•´ì•¼ í•œë‹¤. ìš”ì²­ì— ë”°ë¼ ì ì ˆí•œ í•¨ìˆ˜ë¥¼ ì°¾ì•„ë‚¸ë‹¤.
   3. ì‚¬ì´íŠ¸ ë‚´ë¶€ URL ì—°ê²°ì„ ì§€ì •í•œë‹¤
5. wsgi
   1. ë°°í¬ì™€ ê´€ë ¨



- ì´ í”„ë¡œì íŠ¸ ìì²´ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì§€ ì•ŠëŠ”ë‹¤.



### python manage.py runserver

ë§Œë“¤ì–´ì§„ ì„œë²„ë¥¼ run í•´ë³´ì (ì„œë²„ í™œì„±í™”)



### python manage.py startapp articles

- ì‹¤ì œ ëª©ì ì„ ê°€ì§€ê³  ë™ì‘í•˜ëŠ” ê¸°ëŠ¥
- í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ëŠ” ì—¬ëŸ¬ ê°œì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ê°–ëŠ”ë‹¤
- ì‹¤ì œì ì¸ ì—­í•  ë‹´ë‹¹ 
- ìš”ì²­ì— ëŒ€í•´ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„
- ğŸ‘“ ë³µìˆ˜í˜•ìœ¼ë¡œ ì‘ëª…í•œë‹¤
- ğŸ‘“ ì•± ìƒì„± í›„ ë“±ë¡í•œë‹¤



#### ğŸ¯ì•±ì„ í”„ë¡œì íŠ¸ì— ë“±ë¡í•˜ê¸°  (settings.py)

> ë°˜ë“œì‹œ ì¶œìƒì‹ ê³ 



##### *app order

1. local apps
2. 3rd- party apps
3. django apps

![image-20210308094746169](django_01.assets/image-20210308094746169.png)

- trailing comma



#### internalization

![image-20210308100555448](django_01.assets/image-20210308100555448.png)



#### template ìƒì„±

- âœ¨templateì´ ë“¤ì–´ìˆëŠ” í´ë”ì˜ ì´ë¦„ì€ ë°˜ë“œì‹œ templates
- django ëŠ” html íŒŒì¼ì„ ì°¾ì„ ë•Œ íŠ¹ì • ì•± ì•ˆì˜ templates í´ë”ë¥¼ íƒìƒ‰í•˜ê¸° ë•Œë¬¸ì´ë‹¤. (INSTALLED_APPS ì— ë“±ë¡ëœ) 

![image-20210308102008322](django_01.assets/image-20210308102008322.png)





## 2 ì£¼ìš” íŒŒì¼

#### urls.py

- ğŸƒend slash ì£¼ì˜!
- (ìš”ì²­ì„ ë°›ì€ URL, í˜¸ì¶œí•  view í•¨ìˆ˜) ë¥¼ ì—°ê²°
- ì‘ì„±í•œ app ì•ˆì˜ viewë¥¼ package ì²˜ëŸ¼ ì ‘ê·¼í•œë‹¤.

![image-20210308102524645](django_01.assets/image-20210308102524645.png)



#### views.py

1. âœ¨ì²«ë²ˆì§¸ ì¸ìëŠ” ë¬´ì¡°ê±´ request : URLë¡œë¶€í„° ë°›ì•„ì˜¨ ìš”ì²­

2. ë°ì´í„°ë¥¼ ì¡°í•©í•´ ì™„ì„±ëœ ë¬¸ì„œë¥¼ ì‘ë‹µìœ¼ë¡œ ë°˜í™˜í•œë‹¤

   1. render()

   2. âœ¨ì²«ë²ˆì§¸ ì¸ìëŠ” ë¬´ì¡°ê±´ request

   3. ë‘ë²ˆì§¸ ì¸ìëŠ” template íŒŒì¼ ì´ë¦„

   4. djangoëŠ” templates ê¹Œì§€ì˜ ê²½ë¡œëŠ” ì´í•´í•˜ê³  ìˆìœ¼ë¯€ë¡œ ê·¸ ì´í›„ì˜ ê²½ë¡œë¥¼ ì‘ì„±í•œë‹¤.

      - app_name/tempates/ ê¹Œì§€ëŠ” ì•Œê³  ìˆë‹¤ëŠ” ëœ» (ê¸°ë³¸ í™œì„±í™”)
      - APP_DIRS : True ì´ë¯€ë¡œ

      ![image-20210308102610250](django_01.assets/image-20210308102610250.png)

   5. context 

      - template ì•ˆì—ì„œ ì‚¬ìš©í•  ë³€ìˆ˜

      - dictionaryë¡œ ì „ë‹¬í•œë‹¤.

   ![image-20210308104001040](django_01.assets/image-20210308104001040.png)

   6. responseë¥¼ ì§ì ‘ ë°˜í™˜í•  ìˆ˜ë„ ìˆë‹¤.
      - `from django.http.response import HttpResponse`
      - `return HttpResponse('string')`



##### # get_object_or_404(Student, pk=pk)

- import ìš”êµ¬
- ê°ì²´ê°€ ì¡´ì¬í•˜ë©´ get í•˜ê³  ì•„ë‹ˆë©´ 404 ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°˜í™˜í•œë‹¤.



##### ğŸƒ redirect

- views ë‚´ì˜ í•œ ë©”ì„œë“œì—ì„œ ì²˜ë¦¬ê°€ ëë‚œ í›„ ë‹¤ë¥¸ ë¡œì§ì„ í˜¸ì¶œí•´ì•¼ í•  ë•Œ ì‚¬ìš©í•œë‹¤.
- ex) ê°ì²´ë¥¼ ìƒì„±í•œ í›„, ë‹¤ì‹œ ëª©ë¡ í˜ì´ì§€ë¥¼ ë³´ì—¬ì¤„ ê²½ìš°
- `from` `django.shortcuts` `import`  `redirect`
- ì „ë‹¬ì¸ìë¡œ ì ˆëŒ€ ê²½ë¡œë¥¼ ë„˜ê¸°ê±°ë‚˜, path nameì„ ì „ë‹¬í•œë‹¤.
- URLì´ ë³€ìˆ˜ë¥¼ í•„ìš”ë¡œ í•˜ëŠ” ê²½ìš° í•¨ê»˜ ì „ë‹¬í•˜ëŠ”ë°, í˜¼ë™ì„ í”¼í•˜ê¸° ìœ„í•´ í‚¤ì›Œë“œ ì¸ìë¡œ ì „ë‹¬í•œë‹¤.



![image-20210310181846039](django_01.assets/image-20210310181846039.png)

![image-20210310181956636](django_01.assets/image-20210310181956636.png)



https://docs.djangoproject.com/en/3.1/topics/http/shortcuts/#redirect





## 3 DTL

> ë°ì´í„° í‘œí˜„ì„ ì œì–´í•˜ëŠ” ë„êµ¬ì´ì í‘œí˜„ì— ê´€ë ¨ëœ ë¡œì§
>
> DTL (Django Template Language)
>
> built-in template system
>
> templateì„ ìœ„í•œ ì–¸ì–´



- ì¡°ê±´, ë°˜ë³µ, ë³€ìˆ˜ ì¹˜í™˜, í•„í„° ë“±ì˜ ê¸°ëŠ¥ì„ ì œê³µ
- íŒŒì´ì¬ ì²˜ëŸ¼ ë¹„ìŠ·í•œ êµ¬ì¡°ë¥¼ DTLì—ì„œ ì‚¬ìš©í•˜ì§€ë§Œ íŒŒì´ì¬ ì½”ë“œë¡œ ì‹¤í–‰ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤



### 1 DTL Syntax - Variable

- {{  `variable` }}

- render() ë¥¼ ì‚¬ìš©í•˜ì—¬ view.py ì—ì„œ ì •ì˜í•œ ë³€ìˆ˜ë¥¼ template íŒŒì¼ë¡œ ë„˜ê²¨ ì‚¬ìš©í•œë‹¤

  ![image-20210308105455194](django_01.assets/image-20210308105455194.png)

  

- ë³€ìˆ˜ëª…ì€ ì˜ì–´, ìˆ«ì, _ ì˜ ì¡°í•©

- dot(.) ë¥¼ ì‚¬ìš©í•´ ë³€ìˆ˜ ì†ì„±ì— ì ‘ê·¼í•œë‹¤

- render() ì˜ ì„¸ë²ˆì§¸ ì¸ìë¡œ {'key' : 'value'} ì™€ ê°™ì´ ë”•ì…”ë„ˆë¦¬ë¡œ ì „ë‹¬ë˜ê³  keyë¡œ ì ‘ê·¼í•œë‹¤.

  â€‹				![image-20210308104707899](django_01.assets/image-20210308104707899.png

![image-20210308105347309](django_01.assets/image-20210308105347309.png)







### 2 DTL Syntax - Filters

- {{ `variable|filter`}}
- í‘œì‹œí•  ë³€ìˆ˜ë¥¼ ìˆ˜ì •í•  ë•Œ ì‚¬ìš© (ë‹¨ë…ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ê³  ë³€ìˆ˜ì™€ í•¨ê»˜ ì‚¬ìš©í•œë‹¤.)
- ì•½ 60ê°œ ì •ë„ì˜ í•„í„°ê°€ ì¡´ì¬
- chained ê°€ ê°€ëŠ¥í•˜ê³  ì¼ë¶€ í•„í„°ëŠ” ì¸ìë¥¼ ë°›ëŠ”ë‹¤

```python
{{name|lower}}
{{variable|truncatewords:30}}
```



ê³µì‹ë¬¸ì„œ ì°¸ê³  : https://docs.djangoproject.com/en/3.1/ref/templates/builtins/#built-in-filter-reference



### 3 DTL Syntax - Tags

- {% `tag` %}
- ì¶œë ¥ í…ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ê±°ë‚˜, ë°˜ë³µ ë˜ëŠ” ë…¼ë¦¬ë¥¼ ìˆ˜í–‰í•˜ì—¬ ì œì–´ íë¦„ì„ ë§Œë“ ë‹¤.
- ì¼ë¶€ íƒœê·¸ëŠ” ì‹œì‘, ì¢…ë£Œ íƒœê·¸ê°€ í•„ìš”
  - {%`tag`%}... {%`endtag`%}
- ì•½ 24ê°œì˜ built in íƒœê·¸ê°€ ì¡´ì¬ + custom ë„ ê°€ëŠ¥í•˜ë‹¤
- ë¡œì§ìœ¼ë¡œ ì¡´ì¬í•˜ê³  ë¬¸ì„œì— ì¶œë ¥ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤



![image-20210308112244377](django_01.assets/image-20210308112244377.png)



### 4 DTL Syntax - Comments

- ì£¼ì„
- { # lorem ipsum #} : í•œ ì¤„ ì£¼ì„
- {% comment %} ì—¬ëŸ¬ í–‰ ì£¼ì„ {% endcomment %}





## 4 Template inheritance

> ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ì— ì´ˆì 
>
> ì‚¬ì´íŠ¸ì˜ ê³ ì˜¹ ìš”ì†Œë¥¼ í¬í•¨í•˜ê³  í•˜ìœ„ í…œí”Œë¦¿ì´ ì¬ì •ì˜ (override) í•  ìˆ˜ ìˆëŠ” ë¸”ë¡ì„ ì •ì˜
>
> skeleton í…œí”Œë¦¿



### skeleton templates ì˜ ìœ„ì¹˜ë¥¼ ì–´ë””ì— ë‘˜ê¹Œ?

1. master app ì•ˆì— 
2. í”„ë¡œì íŠ¸ ROOT ì•ˆì— (ê³µì‹ë¬¸ì„œ ì œì•ˆ)



- {%  `extends` %}

  - ğŸˆí…œí”Œë¦¿ì˜ ìµœìƒë‹¨ì— ì‘ì„±

  - ë¶€ëª¨ í…œí”Œë¦¿ì˜ ê²½ë¡œ ì‘ì„±

  - ë¶€ëª¨ templates ìœ„ì¹˜ëŠ” ì•Œì§€ ëª»í•˜ë¯€ë¡œ ìƒˆë¡œìš´ templates ê²½ë¡œë¥¼ ì¶”ê°€í•œë‹¤.

    - `settings.py`

    - ì¶”ê°€ ê²½ë¡œë¥¼ ì‘ì„±í•  ì¼ì´ ë§ê¸° ë•Œë¬¸ì— ìµœìƒìœ„ í´ë” ê²½ë¡œë¥¼ ìƒìˆ˜ë¡œ ì„ ì–¸ `BASE_DIR` (OSì— ì˜í–¥ë°›ì§€ ì•ŠëŠ” ì‘ì„± ë°©ë²•)

    - ë‚´ê°€ íŒŒì¼ì„ ì•„ë¬´ë¦¬ ì˜®ê¸´ë‹¤ê³  í•´ë„ ROOT ì˜ ìœ„ì¹˜ë¥¼ ì¡ì•„ì¤€ë‹¤.

      ![image-20210308141731298](django_01.assets/image-20210308141731298.png)

      ##### python pathlib ì°¸ê³ 
    
      



- {%  `block` %}
  - ë¸”ë¡ ë‚´ë¶€ì— override í•œë‹¤.
  - ì—¬ëŸ¬ ê°œì˜ ë¸”ë¡ì„ êµ¬ë¶„í•˜ê¸° ìœ„í•´ ì´ë¦„ì„ ì§€ì •í•œë‹¤
    - body ëŠ” content ë¡œ ì§“ëŠ” ê²ƒì´ êµ­ë£°
  - ìì‹ì˜ ê³ ìœ  ì˜ì—­



- ë¶€ëª¨

  - ìì‹ì´ override í•  êµ¬ì—­ì„ ì§€ì •í•œë‹¤.

  ![image-20210308142218701](django_01.assets/image-20210308142218701.png)

- ìì‹

  - í…œí”Œë¦¿ ìµœìƒë‹¨ì— extends íƒœê·¸ ì‘ì„±
    - ë¬´ì¡°ê±´ ìµœìƒë‹¨, comment tag ë„ ìˆìœ¼ë©´ ì•ˆ ëœë‹¤
- block íƒœê·¸ ë‚´ë¶€ì— ì¬ì •ì˜
  
  

![image-20210308142245015](django_01.assets/image-20210308142245015.png)





### ğŸ€ì„¤ê³„ ì² í•™

#### 1 í‘œí˜„ê³¼ ë¡œì§(view) ì„ ë¶„ë¦¬

í…œí”Œë¦¿ì€ í‘œí˜„ì„ ì œì–´í•˜ëŠ” ë„êµ¬ì¼ ë¿ì´ë‹¤.

ê¸°ë³¸ ëª©í‘œë¥¼ ë„˜ì–´ì„œëŠ” ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ë§ì•„ì•¼ í•œë‹¤. (ê°€ëŠ¥í•˜ë”ë¼ë„)



#### 2 ì¤‘ë³µì„ ë°°ì œ

ëŒ€ë‹¤ìˆ˜ì˜ ì›¹ì‚¬ì´íŠ¸ëŠ” header footer navbar ì™€ ê°™ì€ ê³µí†µ ë””ìì¸ì„ ê°€ì§„ë‹¤. 

í…œí”Œë¦¿ ìƒì†ì„ í†µí•´ ì¤‘ë³µ ì½”ë“œë¥¼ ì œê±°í•œë‹¤.





## 5 HTML form element

### form í•µì‹¬ ì†ì„±

- action
  - form ì´ ì „ë‹¬ë  URL
- method
  - ì •ë³´ ì „ë‹¬ ë°©ì‹
  - "/index/"
    - ì•ì˜ / ëŠ” rootë¥¼ í•¨ì¶•í•œë‹¤.



### input í•µì‹¬ ì†ì„±

> ì‚¬ìš©ìë¡œë¶€í„° ë°ì´í„°ë¥¼ ì…ë ¥ ë°›ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.

- name
  - ë°ì´í„°ì˜ key
  - keyë¥¼ í†µí•´ valueì— ì ‘ê·¼í•œë‹¤. 
  - ?key=value&key=value í˜•ì‹ìœ¼ë¡œ ì „ë‹¬ëœë‹¤.



![image-20210309170726518](django_01.assets/image-20210309170726518.png)





### HTTP

> Hyper Text Transfer Protocol



- ì£¼ì–´ì§„ ë¦¬ì†ŒìŠ¤ê°€ ìˆ˜í–‰í•˜ê²Œ ë  ì›í•˜ëŠ” ì‘ì—…ì„ ë‚˜íƒ€ë‚´ëŠ” request methods ë¥¼ ì •ì˜
  - GET
  - POST
  - PUT
  - DELETE



#### GET

1. ì„œë²„ì—ì„œ ì •ë³´ë¥¼ ì¡°íšŒí•˜ëŠ” ë°ì— ì‚¬ìš©í•œë‹¤.
2. ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ë•Œì—ë§Œ ì‚¬ìš©í•œë‹¤
3. ë°ì´í„°ë¥¼ ì„œë²„ë¡œ ì „ì†¡í•  ë•Œ Query String Parameters ë¥¼ í†µí•´ ì „ì†¡í•œë‹¤. 
   - URLì˜ parameter ë¡œ ë¶™ì–´ì„œ ì „ë‹¬ëœë‹¤.



- request ë‚´ë¶€ì— GETìœ¼ë¡œ ì „ë‹¬ëœ ë°ì´í„°ê°€ dictionary í˜•íƒœë¡œ ë“¤ì–´ìˆë‹¤.
  - `request.GET`  = {key:value, key:value}
  - request ì˜ ë©¤ë²„
  - get() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” í•´ë‹¹í•˜ëŠ” key ê°’ì´ ì—†ì„ ë•Œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜ˆì™¸ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•¨

<img src="django_01.assets/image-20210308151502476.png" alt="image-20210308151502476" style="zoom: 150%;" />



#### POST

1. ë³´ì•ˆ ì²˜ë¦¬ 

2. URLì— ì…ë ¥ ì •ë³´ê°€ ë…¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤.

3. `csrf_token` ì´ í•„ìš”í•˜ë‹¤.

   1. Cross Site Request Forgery

   - `CsrfViewMiddleware`ê°€ ê²€ì¦í•  ìˆ˜ ìˆë„ë¡

4. requestì—ì„œ êº¼ë‚¼ ë•Œ 

   - `request.POST`

5. views ì—ì„œ ì²˜ë¦¬í•  ë•Œ

   1. `request.method` ê°€ `POST` ì¼ ë•Œë§Œ ë¡œì§ì„ ì‹¤í–‰í•œë‹¤.
   2. `else` : redirect() 



### Data Validation

> ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬

- cleaned dataì¸ì§€ DB ì €ì¥ ì „ì— ì ê²€ì´ ëë‚˜ì•¼ í•œë‹¤.
- í•˜ì§€ë§Œ ì‚¬ìš©ìê°€ ê°œë°œìë„êµ¬ë¥¼ ì‚¬ìš©í•´ HTMLì˜ attributeë¥¼ ìˆ˜ì •í•œë‹¤ë©´ ê³¤ë€í•˜ë‹¤.



## 6 URL

> Dispatcher (ë°œì†¡ì) ë¡œì„œì˜ URL
>
> ì›¹ì•±ì€ URLì„ í†µí•œ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì—ì„œ ì‹œì‘ëœë‹¤.



### URL mapping

- app ì˜ view í•¨ìˆ˜ê°€ ë§ì•„ì§€ë©´ì„œ ì‚¬ìš©í•˜ëŠ” path() ê°€ ë§ì•„ì§€ê³ , app ë„ ë” ì‘ì„±ë˜ê¸° ë•Œë¬¸ì— í”„ë¡œì íŠ¸ì˜ url.py. ì—ì„œ ëª¨ë‘ ê´€ë¦¬í•  ìˆ˜ ì—†ë‹¤.
- ê° app ì— url.py ë¥¼ ì‘ì„±í•œë‹¤.

![image-20210308152446481](django_01.assets/image-20210308152446481.png)

- ê¸°ì¡´ì˜ project urls.py ëŠ” ì¤‘ì•™ ì»¨íŠ¸ë¡¤ì„ ë‹´ë‹¹í•œë‹¤. 

![image-20210308152805069](django_01.assets/image-20210308152805069.png)



![image-20210308153110194](django_01.assets/image-20210308153110194.png)

- articles ê¹Œì§€ëŠ” í”„ë¡œì íŠ¸ì˜ urls.py ê°€ ì²˜ë¦¬í•˜ê³ 
- ê·¸ ì´í›„ëŠ” ê°ê°ì˜ appì´ ê°€ì§„ urls.py ê°€ ì²˜ë¦¬í•œë‹¤.



### Variable routing

> ë™ì  ë¼ìš°íŒ…
>
> ì£¼ì†Œ ìì²´ë¥¼ ë³€ìˆ˜ì²˜ëŸ¼ ì‚¬ìš©í•´ì„œ ë™ì ìœ¼ë¡œ ì£¼ì†Œë¥¼ ë§Œë“ ë‹¤.



- urlì£¼ì†Œ/<<ìë£Œí˜•:ì´ë¦„>>/
- ê¸°ë³¸ê°’ str ì´ë¯€ë¡œ ìƒëµ ê°€ëŠ¥í•˜ë‹¤
  - <name>
  - ì…ë ¥ê°’ì€ stringì¸ ê²ƒì´ ë£°
  - í•˜ì§€ë§Œ djangoëŠ” int:name ì„ ì§€ì›í•œë‹¤.
- views ì˜ í•¨ìˆ˜ì— keyword ì¸ìë¡œ ë„˜ì–´ì˜¨ë‹¤.  (ì´ë¦„ì„ keyê°’ìœ¼ë¡œ í•˜ì—¬)
  - name = 'ì…ë ¥ê°’'
  - ë”°ë¼ì„œ í•¨ìˆ˜ ì •ì˜ í•  ë•Œ, parameterë¡œ ë„£ì–´ì£¼ì–´ì•¼ í•œë‹¤.
- ì „ë‹¬ ì¸ìë¡œ ë„˜ì–´ì˜¨ ë³€ìˆ˜ë¥¼ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 



![image-20210308154247947](django_01.assets/image-20210308154247947.png)

![image-20210308154107309](django_01.assets/image-20210308154107309.png)



### ğŸNaming URL patterns

> href = "articles/greeting/" ì´ëŸ° ì‹ìœ¼ë¡œ ì¼ì¼ì´ ë‹¤ ë°”ê¾¸ê³  ì‹¶ì§€ ì•Šë‹¤.



- í•˜ë“œì½”ë”©ìœ¼ë¡œ url ì„ ì§ì ‘ ì‘ì„±í•˜ì§€ ì•Šê³  path() í•¨ìˆ˜ì˜ name ì¸ìë¥¼ ì •ì˜í•´ì„œ ì‚¬ìš©í•œë‹¤.

  - nameì€ view ì˜ í•¨ìˆ˜ ì´ë¦„ê³¼ ì¼ì¹˜ì‹œì¼œì•¼ í—·ê°ˆë¦¬ì§€ ì•ŠëŠ”ë‹¤.

- **DTL ì˜ `url` íƒœê·¸ë¥¼ ì‚¬ìš©í•œë‹¤.**

  - url íƒœê·¸ëŠ” ë§¤ì¹­ë˜ëŠ” ì´ë¦„ì„ ê°€ì§„ viewì˜ ì ˆëŒ€ê²½ë¡œë¥¼ ë°˜í™˜í•œë‹¤.

  ![image-20210308155637594](django_01.assets/image-20210308155637594.png)

  ![image-20210308155548541](django_01.assets/image-20210308155548541.png)

  ![image-20210308163639174](django_01.assets/image-20210308163639174.png)

##### * ë‹¤ë¥¸ Appì— ê°™ì€ nameì„ ê°€ì§„ pathê°€ ìˆë‹¤ë©´?

- *namespace* ë¥¼ ê³ ë ¤í•´ë³´ì
- `app_name` ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ëŠ” ìˆœê°„ë¶€í„° name space ì ìš©ëœë‹¤.
- `{% url 'app_name:alias' %}`

![image-20210309175108779](django_01.assets/image-20210309175108779.png)

![image-20210309175155053](django_01.assets/image-20210309175155053.png)



##### * variable routingì„ ì‚¬ìš©í•˜ëŠ” URLì´ë¼ë©´? 

- í•œ ì¹¸ ë„ì–´ì“°ê³  ì „ë‹¬í•  ë³€ìˆ˜ë¥¼ ì…ë ¥í•œë‹¤.

![image-20210310180205068](django_01.assets/image-20210310180205068.png)



 





## 7 Namespace

> ë‚´ê°€ ì›í•˜ëŠ” template ì´ ì•„ë‹ˆë¼, ë™ëª…ì˜ ë‹¤ë¥¸ template ì´ ë‚˜ì™€ë²„ë ¸ë‹¤.
>
> INSTALLED_APPSì— ë“±ë¡ë˜ì–´ ìˆëŠ” ìˆœì„œëŒ€ë¡œ templateì„ íƒìƒ‰í•˜ê¸° ë•Œë¬¸ì—..



##### templateì˜ ì´ë¦„ì„ ê³ ì¹˜ê±°ë‚˜, App ë“±ë¡ ìˆœì„œë¥¼ ë°”ê¾¸ëŠ” ê²ƒì€ ë¯¸ë´‰ì±…

- djangoê°€ ê° appì˜ templates ë‚´ë¶€ë¥¼ ctrl+a, ctrl+c, ctrl+v í•˜ëŠ” ê²ƒì„ ì´ìš©í•œë‹¤.
- templates ë‚´ë¶€ì— app ì´ë¦„ê³¼ ë™ì¼í•œ í´ë”ë¥¼ ë§Œë“¤ì–´ ê·¸ ì•ˆì— íŒŒì¼ì„ ë‘”ë‹¤.

- app_name > templates > app_name > html íŒŒì¼

![image-20210309135534654](django_01.assets/image-20210309135534654.png)



##### viewsì—ì„œ render() ì— html íŒŒì¼ ì´ë¦„ì„ ë„˜ê¸¸ ë•Œ, ìƒìœ„ í´ë” ê²½ë¡œì™€ í•¨ê»˜ ë„˜ê¸´ë‹¤.

![image-20210309135748270](django_01.assets/image-20210309135748270.png)



##### appì„ ë§Œë“¤ë©´, ì¶œìƒì‹ ê³  í›„ì— templates/<app_name> ìœ¼ë¡œ í´ë”ë¥¼ ë§Œë“¤ê³  ì‹œì‘

- `$ mkdir -p app_name/templates/app_name`



---



## venv

> ê°€ìƒ í™˜ê²½ (ë…ë¦½ í™˜ê²½)
>
> íŒŒì´ì¬ ì¸í„°í”„ë¦¬í„°, ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹œìŠ¤í…œ íŒŒì´ì¬ì— ì„¤ì¹˜ëœ ëª¨ë“  ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ê²©ë¦¬ ë˜ì–´ìˆëŠ” íŒŒì´ì¬ í™˜ê²½
>
> ê° ê°€ìƒ í™˜ê²½ì€ ê³ ìœ í•œ íŒŒì´ì¬ í™˜ê²½ì„ ê°€ì§€ë©° ë…ë¦½ì ìœ¼ë¡œ ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ ì§‘í•©ì„ ê°€ì§



![image-20210308132237100](django_01.assets/image-20210308132237100.png)

- module
- venv ëª…ë ¹ì–´
- venv í´ë”ëª…



![image-20210308132614450](django_01.assets/image-20210308132614450.png)

- venv í™œì„±í™”
  - python version, pip ì—ë§Œ ì˜í–¥ì„ ë¯¸ì¹œë‹¤
  - í„°ë¯¸ë„ ë‹¨ìœ„ë¡œ í™œì„±í™” ëœë‹¤.

- venv ë¹„í™œì„±í™”
  - í„°ë¯¸ë„ ì¢…ë£Œ
  - deactivate



![image-20210308132744516](django_01.assets/image-20210308132744516.png)



- ê²½ë¡œì˜ ì°¨ì´
- pip list ì˜ ì°¨ì´



- .ignore ì£¼ì˜

![image-20210308134444756](django_01.assets/image-20210308134444756.png)

![image-20210308134601769](django_01.assets/image-20210308134601769.png)



![image-20210308165723479](django_01.assets/image-20210308165723479.png)

<img src="django_01.assets/image-20210308135308281.png" alt="image-20210308135308281" style="zoom:80%;" />



- ì¶”í›„ì— pip listë¥¼ ê³µìœ í•˜ê¸° ìœ„í•œ txt íŒŒì¼ê³¼ ì„¤ì¹˜ ëª…ë ¹ì–´

  - pip freeze > requirements.txt

- requirements.txt
  
  - ì´ë¦„ ì´ë ‡ê²Œ í•˜ëŠ” ê²ƒì´ êµ­ë£°
  - `pip` `install` `-r` `requirements.txt`
  





---



## RECAP



### í”„ë¡œì íŠ¸ íŒŒì¼ ìƒì„±í•˜ê¸°

> í”„ë¡œì íŠ¸ = app + app + ... + app



- ì˜ëª» ë§Œë“¤ì—ˆì„ ë•Œ í”„ë¡œì íŠ¸ ì‚­ì œí•˜ê¸°
  - rm -rf intro
- êµ³ì´ í•œ depth ì•ˆì— í”„ë¡œì íŠ¸ íŒŒì¼ì„ ë§Œë“¤ê³  ì‹¶ì§€ ì•Šê³  í˜„ì¬ ìœ„ì¹˜ì—ì„œ ë§Œë“¤ê³  ì‹¶ë‹¤

![image-20210308164937147](django_01.assets/image-20210308164937147.png)



- í˜„ì¬ ë‚´ ìœ„ì¹˜ì— ì‹ ê²½ ì“°ì. ë‚´ê°€ í”„ë¡œì íŠ¸ root ì— ìˆëŠ”ì§€, ì§‘ì‚¬ (manage.py ê°€ ìˆëŠ”ì§€)
- ìµœì´ˆ ìƒì„± ì´í›„ì—ëŠ” manage.py ì—ê²Œ ì¼ì„í•œë‹¤
  - python manage.py [ëª…ë ¹ì–´]
- settings.py ë¥¼ ê°€ì§€ê³  ìˆëŠ” appì„ master app ì´ë¼ê³  ë¶€ë¥´ê¸°ë¡œ ì•½ì†í–ˆë‹¤.



### App ìƒì„±í•˜ê¸°

1. ì•±ì˜ íƒ„ìƒ
   1. python manage.py startapp [ì´ë¦„]
2. ì•±ì˜ ë“±ë¡
   1. master app ì˜ settings.py ì—ì„œ ìƒì„±í•œ ì•± ë“±ë¡í•˜ê¸°



### urls.py ìƒì„±í•˜ê¸°

1. ìš”ì²­ì— ë”°ë¼ ì•Œë§ì€ viewë¥¼ ì°¾ì•„ê°€ë„ë¡ urls.py ë¥¼ app ë‚´ë¶€ì— ìƒì„±í•œë‹¤.

2. ê¸°ë³¸ì ìœ¼ë¡œ í•„ìš”í•œ ì½”ë“œ

   - from django.urls import path
   - **urlpatterns**

   <img src="django_01.assets/image-20210308175604363.png" alt="image-20210308175604363"  />